<div class="container mt-2">
  <div class="row">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <div>
            <span class="badge bg-secondary">HISTORIA</span>

            {{ selectedRow.no_historia }}
            <br />
            <button (click)="generarPdf()" [disabled]="historia.length == 0">
              Generar Pdf
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <div class="example-container">
            <div class="example-historia-container">
              <div>
                <div *ngFor="let hist of historia">
                  <div *ngIf="hist.largo.length > 0">
                    <div class="separador">
                      ----------------------------------------------------------------------------------
                    </div>
                    <div>
                      {{ hist.codigo }}
                    </div>
                    <div class="separador">
                      ----------------------------------------------------------------------------------
                    </div>
                    <div class="container-text-hist">{{ hist.cuerpo }}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col">
      <div class="example-container">
        <div class="example-table-container">
          <table mat-table [dataSource]="dataSource" class="example-table">
            <!-- Number Column -->
            <ng-container matColumnDef="especialidad_historia">
              <th mat-header-cell *matHeaderCellDef>Tipo Atencion</th>
              <td mat-cell *matCellDef="let row">
                {{ row.especialidad_historia }}
              </td>
            </ng-container>

            <!-- Title Column -->
            <ng-container matColumnDef="num_orden">
              <th mat-header-cell *matHeaderCellDef>No Folio</th>
              <td mat-cell *matCellDef="let row">{{ row.num_orden }}</td>
            </ng-container>

            <!-- State Column -->
            <ng-container matColumnDef="fecha_dig">
              <th mat-header-cell *matHeaderCellDef>Fecha</th>
              <td mat-cell *matCellDef="let row">
                {{ row.fecha_dig | date: "dd-MM-yyyy, h:mm a" }}
              </td>
            </ng-container>
            <!-- State Column -->
            <ng-container matColumnDef="nombre_estudio">
              <th mat-header-cell *matHeaderCellDef>Tipo de Historia</th>
              <td mat-cell *matCellDef="let row">
                {{ row.nombre_estudio }}
              </td>
            </ng-container>
            <!-- State Column -->
            <ng-container matColumnDef="medico">
              <th mat-header-cell *matHeaderCellDef>Profesional</th>
              <td mat-cell *matCellDef="let row">{{ row.medico }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr
              mat-row
              *matRowDef="let row; columns: displayedColumns; let i = index"
              (click)="selectRow(row)"
              [class.demo-row-is-clicked]="selectedRow === row"
            ></tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
